import{m as c,g as h,r as g,n as v,c as s,o as n,a as e,p as i,q as p,d as r,t as a,F as b,s as _}from"./BG5T5eFL.js";const f={class:"p-6"},y={key:0},x={class:"mb-2"},k={class:"mb-4"},w={class:"font-semibold"},D={class:"border p-4 rounded shadow bg-white mb-6"},B={class:"list-disc ml-6"},N={key:0,class:"border p-4 rounded shadow bg-white mb-6"},I={key:0,class:"list-disc ml-6"},F={class:"text-gray-500 text-sm ml-2"},L={key:1,class:"text-sm text-gray-500"},V={key:1,class:"border p-4 rounded shadow bg-white"},z={key:0,class:"list-disc ml-6"},A={key:1,class:"text-sm text-gray-500"},C={key:1},R=c({__name:"index",setup(E){const o=h(),d=g([]),u=g([]);return v(async()=>{var m,t;if(o.status.value==="authenticated"&&((t=(m=o.data.value)==null?void 0:m.user)==null?void 0:t.role)==="administrator")try{d.value=await $fetch("/api/db/posts"),u.value=await $fetch("/api/db/nav")}catch(l){console.error("Fehler beim Laden der Daten:",l)}}),(m,t)=>(n(),s("div",f,[t[9]||(t[9]=e("h1",{class:"text-2xl font-bold mb-4"},"Admin-Bereich",-1)),i(o).status==="authenticated"?(n(),s("div",y,[e("p",x,[t[0]||(t[0]=r("Willkommen, ",-1)),e("strong",null,a(i(o).data.user.name),1)]),e("p",k,[t[1]||(t[1]=r("Deine Rolle: ",-1)),e("span",w,a(i(o).data.user.role),1)]),e("div",D,[t[5]||(t[5]=e("h2",{class:"text-lg font-semibold mb-2"},"Nutzer-Information",-1)),e("ul",B,[e("li",null,[t[2]||(t[2]=e("strong",null,"ID:",-1)),r(" "+a(i(o).data.user.id),1)]),e("li",null,[t[3]||(t[3]=e("strong",null,"Email:",-1)),r(" "+a(i(o).data.user.email),1)]),e("li",null,[t[4]||(t[4]=e("strong",null,"Registriert:",-1)),r(" "+a(i(o).data.user.registered),1)])])]),i(o).data.user.role==="administrator"?(n(),s("div",N,[t[6]||(t[6]=e("h2",{class:"text-lg font-semibold mb-2"},"Letzte Beiträge aus Datenbank",-1)),d.value.length?(n(),s("ul",I,[(n(!0),s(b,null,_(d.value,l=>(n(),s("li",{key:l.ID},[e("strong",null,a(l.post_title),1),e("span",F,"("+a(l.post_date)+")",1)]))),128))])):(n(),s("p",L,"Keine Beiträge gefunden."))])):p("",!0),i(o).data.user.role==="administrator"?(n(),s("div",V,[t[7]||(t[7]=e("h2",{class:"text-lg font-semibold mb-2"},"Navigationseinträge",-1)),u.value.length?(n(),s("ul",z,[(n(!0),s(b,null,_(u.value,l=>(n(),s("li",{key:l.ID},[r(a(l.post_title)+" → ",1),e("code",null,a(l.post_name),1)]))),128))])):(n(),s("p",A,"Keine Navigation gefunden."))])):p("",!0)])):(n(),s("div",C,t[8]||(t[8]=[e("p",null,"Du bist nicht angemeldet.",-1)])))]))}});export{R as default};
